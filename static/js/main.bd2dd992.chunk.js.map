{"version":3,"sources":["components/header.js","functions/helper.js","components/sideNav.js","components/contentWrapper.js","components/chartWrapper.js","functions/loansHelp.js","components/chartTip.js","components/xAxis.js","components/yAxis.js","components/title.js","components/loans.js","functions/getData.js","App.js","reportWebVitals.js","theme.js","index.js"],"names":["useStyles","makeStyles","theme","root","width","display","margin","paddingTop","spacing","textAlign","Header","siteTitle","subTitle","classes","className","Typography","variant","component","makeId","str","replace","toLowerCase","getDataByTitle","data","title","map","o","indexOf","minMax","arr","min","max","position","paddingLeft","marginTop","link","color","palette","text","primary","secondary","borderLeft","main","active","ListItemLink","props","Hidden","smDown","ListItem","SideNav","titles","ids","items","currentClassName","i","href","ListItemText","maxWidth","padding","ContentWrapper","children","overflow","cardHelper","ChartWrapper","Card","CardContent","dataDates","d","forEach","row","r","monthString","month","Month","dt","DateTime","fromISO","toJSDate","groupData","initData","keys","dataKey","res","k","keepKeys","Array","from","rollup","sum","Loans","dk","m","tooltip","marginLeft","left","top","transform","visibility","visible","background","grey","opacity","contrastText","borderRadius","shape","ChartTip","xAxis","fill","fontSize","fontFamily","tickTextX","stroke","textAnchor","tickTextY","XAxis","height","tickArray","scale","tickFunction","x","x1","x2","Children","toArray","t","y2","y","dy","YAxis","yAxis","y1","style","alignmentBaseline","Title","d3","select","scaleLinear","scaleOrdinal","scaleTime","line","schemeTableau10","axisLeft","axisBottom","strokeWidth","cursor","selected","circle","legend","legendText","id","Object","filter","useState","setWidth","setHeight","lineTipY","setLineTipY","lineTipVisible","setLineTipVisible","lineTipText","setLineTipText","circleTipPos","setCircleTipPos","circleTipVisible","setCircleTipVisible","circleTipText","setCircleTipText","setSelected","right","bottom","useEffect","svg","parseInt","months","loans","flat","domain","range","c","onDoubleClick","classNames","includes","onMouseEnter","length","idx","Math","floor","getHeight","onMouseLeave","onClick","strokeOpacity","cx","cy","e","currentTarget","setAttribute","ticks","fromJSDate","toFormat","getCsv","url","a","fetch","then","s","csvParse","getDatasets","process","toApiUrl","sub","pos","slice","opts","headers","Origin","fetchCors","getResourceUri","json","resources","dates","dset","push","key","resourceUri","console","log","undefined","getDataProd","datasets","ds","csvRes","csv","getDataDev","isDev","getData","Side","Grid","item","md","sm","xs","Main","App","setData","fetchData","charts","container","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","querySelector"],"mappings":"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","file":"static/js/main.bd2dd992.chunk.js","sourcesContent":["import Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    display: 'block',\n    margin: 'auto',\n    paddingTop: theme.spacing(3),\n    textAlign: 'center'\n  },\n}));\n\nconst Header = ({ siteTitle, subTitle }) => {\n  const classes = useStyles()\n  return (\n    <header className={classes.root}>\n      <Typography variant='h2' component=\"h1\" >\n        {siteTitle}\n      </Typography>\n      <Typography variant='h4' component=\"h4\" >\n        {subTitle}\n      </Typography>\n    </header>\n  )\n}\n\nexport default Header","import { min, max } from 'd3-array'\nimport { DateTime } from 'luxon'\nexport const keepKeys = (arr, keys) => arr.map(o => {\n    const res = {};\n    keys.forEach(k => res[k] = o[k]);\n    return res;\n});\nexport const unpack = (arr, key) => arr.map(o => o[key]);\nexport const makeId = str => str.replace(/\\s+/g, '-').toLowerCase()\nexport const getDataByTitle = (data, title) => data[data.map(o => o.title).indexOf(title)]\nexport const minMax = arr => [min(arr), max(arr)]\nexport const jsDate = monthString => DateTime.fromISO(monthString).toJSDate()","import { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Hidden from '@material-ui/core/Hidden';\nimport { makeId } from '../functions/helper'\nimport Scrollspy from 'react-scrollspy'\n\nconst useStyles = makeStyles(theme => {\n  return {\n    root: {\n      position: 'fixed',\n      paddingLeft: theme.spacing(1),\n      marginTop: theme.spacing(3)\n    },\n    link: {\n      color: theme.palette.text.primary,\n      '&:hover': {\n        color: theme.palette.text.secondary,\n        borderLeft: `1px solid ${theme.palette.secondary.main}`\n      }\n    },\n    active: {\n      borderLeft: `2px solid ${theme.palette.secondary.main}`\n    }\n  }\n});\n\nfunction ListItemLink(props) {\n  return (\n    <Hidden smDown>\n      <ListItem component=\"a\" display='hidden' {...props} />\n    </Hidden>\n  );\n}\n\nfunction SideNav({ titles }) {\n  const classes = useStyles()\n  const ids = titles.map(o => makeId(o))\n  return (\n    <Scrollspy items={ids} currentClassName={classes.active} className={classes.root}>\n      {titles.map((title, i) => <ListItemLink key={ids[i]} className={classes.link} href={`#${ids[i]}`}><ListItemText primary={title}></ListItemText></ListItemLink>)}\n    </Scrollspy >\n  )\n}\n\nexport default SideNav\n\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: 'auto',\n        maxWidth: 1126,\n        padding: theme.spacing(4)\n    }\n}));\n\nfunction ContentWrapper({ children }) {\n    const classes = useStyles()\n    return (\n        <div className={classes.root}>\n            {children}\n        </div>\n    )\n}\n\nexport default ContentWrapper","import { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: `${theme.spacing(2)}px auto`,\n        overflow: 'visible'\n    },\n    cardHelper: {\n        padding: theme.spacing(3),\n        position: \"relative\"\n    }\n}));\n\nfunction ChartWrapper({ children }) {\n    const classes = useStyles()\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.cardHelper}>\n                {children}\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default ChartWrapper","import { rollup, sum } from 'd3-array';\nimport { keepKeys } from './helper';\nimport { jsDate } from './helper';\n\nfunction dataDates(d) {\n\td.forEach(row => {\n\t\trow.data.forEach(r => {\n\t\t\tconst month = r.Month;\n\t\t\tconst dt = jsDate(month);\n\t\t\tr.Month = dt;\n\t\t});\n\t});\n\treturn d;\n}\n\nfunction groupData(initData, keys) {\n\tconst dataKey = keys[0]\n\tconst data = keepKeys(initData.data, keys)\n\treturn Array.from(\n\t\trollup(\n\t\t\tdata,\n\t\t\td => sum(d.map(d => +d.Loans)),\n\t\t\td => d[dataKey],\n\t\t\td => d.Month\n\t\t),\n\t\t([dk, m]) => ({\n\t\t\t[dataKey]: dk, data: Array.from(m, ([Month, Loans]) => ({ Month, Loans }))\n\t\t})\n\t)\n}\n\nexport function groupDataByItemType(initData) {\n\tconst keys = ['Type', 'Month', 'Loans'];\n\treturn dataDates(groupData(initData, keys))\n}\n\nexport function groupDataByLibrary(initData) {\n\tconst keys = ['Library name', 'Month', 'Loans'];\n\treturn dataDates(groupData(initData, keys))\n}\n\nexport function getHeight(d) {\n\tconst months = d.map(o => o.Month);\n\tif (d.length % 2 === 0) {\n\t\treturn d[months.length / 2].Loans;\n\t} else {\n\t\tconst idx = Math.floor(months.length / 2);\n\t\treturn (d[idx].Loans + d[idx + 1].Loans) / 2;\n\t}\n}","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => {\n    return {\n        tooltip: {\n            display: 'inline',\n            marginLeft: props => theme.spacing(3) + props.margin.left,\n            marginTop: props => theme.spacing(3) + props.margin.top,\n            position: 'absolute',\n            left: props => props.left ? props.left : 'auto',\n            top: props => props.top,\n            transform: \"translate(-50%, -50%)\",\n            visibility: props => props.visible ? 'visible' : 'hidden',\n            background: theme.palette.grey[900],\n            opacity: 0.5,\n            color: theme.palette.primary.contrastText,\n            borderRadius: theme.shape.borderRadius,\n            padding: theme.spacing(1)\n        }\n    }\n})\n\nfunction ChartTip(props) {\n    const classes = useStyles(props)\n    return <div className={classes.tooltip}>{props.children}</div>\n}\n\nexport default ChartTip","import { Children } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    xAxis: {\n        fill: 'none',\n        fontSize: 10,\n        fontFamily: 'inherit'\n    },\n    tickTextX: {\n        fontSize: '0.6rem',\n        stroke: 'none',\n        fill: 'currentColor',\n        textAnchor: 'middle'\n    },\n    tickTextY: {\n        fontSize: '0.6rem',\n        stroke: 'none',\n        fill: 'currentColor',\n        textAnchor: 'end'\n    }\n}))\n\nconst XAxis = ({ height, width, tickArray, scale, tickFunction }) => {\n    const classes = useStyles()\n    const x = scale\n    return (\n        <g className={classes.xAxis} transform={`translate(0, ${height})`}>\n            <line x1={0} x2={width} stroke='black' />\n            {Children.toArray(tickArray.map(t => (\n                <>\n                    <g transform={`translate(${x(t)}, 0)`}>\n                        <line y2=\"6\" stroke='currentColor' />\n                        <text className={classes.tickTextX} y=\"9\" dy=\"0.71em\">{tickFunction ? tickFunction(t) : t}</text>\n                    </g>\n                </>\n            )\n            ))\n            }\n        </g>\n    )\n}\n\nexport default XAxis","import { Children } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    xAxis: {\n        fill: 'none',\n        fontSize: 10,\n        fontFamily: 'inherit'\n    },\n    tickTextX: {\n        fontSize: '0.6rem',\n        stroke: 'none',\n        fill: 'currentColor',\n        textAnchor: 'middle'\n    },\n    tickTextY: {\n        fontSize: '0.6rem',\n        stroke: 'none',\n        fill: 'currentColor',\n        textAnchor: 'end'\n    }\n}))\n\nconst YAxis = ({ height, tickArray, scale, tickFunction }) => {\n    const classes = useStyles()\n    const y = scale\n    return (\n        <g className={classes.yAxis} transform={`translate(0, 0)`}>\n            <line y1={0} y2={height} stroke='black' />\n            {Children.toArray(tickArray.map(t => (\n                <g transform={`translate(0, ${y(t)})`}>\n                    <line x2=\"-6\" stroke='currentColor' />\n                    <text className={classes.tickTextY} x=\"-10\" dy=\"0.32em\">{tickFunction ? tickFunction(t) : t}</text>\n                </g>\n            )\n            ))}\n        </g>\n    )\n}\n\nexport default YAxis","const style = {\n    alignmentBaseline: 'middle',\n    textAnchor: 'middle',\n    fontSize: 'medium'\n}\n\nconst Title = ({children, ...props}) => <text style={style} {...props}>{children}</text>\n\nexport default Title","import { useEffect, useState, Children } from 'react'\nimport classNames from 'classnames';\nimport {getHeight } from '../functions/loansHelp'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport ChartTip from './chartTip'\nimport { makeId, minMax } from '../functions/helper';\nimport { select } from 'd3-selection'\nimport { scaleLinear, scaleTime, scaleOrdinal } from 'd3-scale'\nimport { min, max } from 'd3-array'\nimport { line } from 'd3-shape'\nimport { schemeTableau10 } from 'd3-scale-chromatic'\nimport { axisLeft, axisBottom } from 'd3-axis'\nimport { DateTime } from 'luxon'\nimport XAxis from './xAxis'\nimport YAxis from './yAxis'\nimport Title from './title'\n\nconst d3 = {\n    select,\n    scaleLinear,\n    scaleOrdinal,\n    scaleTime,\n    min,\n    max,\n    line,\n    schemeTableau10,\n    axisLeft,\n    axisBottom\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        height: '450px',\n    },\n    line: {\n        strokeWidth: 1.5,\n        fill: 'none',\n        cursor: 'pointer',\n        '&:hover': {\n            strokeWidth: 3\n        }\n    },\n    selected: {\n        strokeWidth: 3\n    },\n    circle: {\n        cursor: 'pointer'\n    },\n    legend: {\n        fill: 'none',\n        fontSize: 10,\n    },\n    legendText: {\n        fontSize: '0.6rem',\n        stroke: 'none',\n        textAnchor: 'end',\n    }\n}));\n\nfunction Loans({ data, title }) {\n    const id = 'svg-' + makeId(title)\n    const dataKey = Object.keys(data[0]).filter(o => o!=='data')\n    // const chartData = dataDates(groupFunction(data))\n    const [width, setWidth] = useState(0)\n    const [height, setHeight] = useState(450)\n    const [lineTipY, setLineTipY] = useState(height / 2)\n    const [lineTipVisible, setLineTipVisible] = useState(false)\n    const [lineTipText, setLineTipText] = useState(\"\")\n    const [circleTipPos, setCircleTipPos] = useState([width / 2, height / 2])\n    const [circleTipVisible, setCircleTipVisible] = useState(false)\n    const [circleTipText, setCircleTipText] = useState({ [dataKey]: '', month: '', loans: '' })\n    const [selected, setSelected] = useState([])\n    const margin = { top: 65, right: 60, bottom: 30, left: 85};\n    const classes = useStyles()\n\n    useEffect(() => {\n        const svg = d3.select(`#${id}`)\n        setWidth(parseInt(svg.style('width')) - margin.left - margin.right)\n        setHeight(parseInt(svg.style('height')) - margin.top - margin.bottom)\n    })\n    const months = data.map(o => o.data.map(x => x.Month))[0]\n    const loans = data.map(o => o.data.map(x => x.Loans)).flat()\n    const x = d3.scaleTime()\n        .domain(minMax(months))\n        .range([0, width])\n    const y = d3.scaleLinear()\n        .domain(minMax(loans))\n        .range([height, 0])\n    const line = d3.line()\n        .x(d => x(d.Month))\n        .y(d => y(d.Loans))\n    const c = d3.scaleOrdinal().domain(data.map(o => o[dataKey])).range(d3.schemeTableau10)\n\n    return (\n        <>\n            <svg onDoubleClick={() => setSelected([])} className={classes.root} id={id} width={width + margin.left + margin.right} height={height + margin.top + margin.bottom}>\n                <Title x={margin.left + width / 2} y={0.25 * margin.top}>{'Monthly ' + title}</Title>\n                <g style={{\n                    transform: `translate(${margin.left}px, ${margin.top}px)`\n                }}>\n                    <g>\n                        {Children.toArray(\n                            data.map(r =>\n                                (<>\n                                    <path\n                                        className={classNames(classes.line, { [classes.selected]: selected.includes(r[dataKey]) })}\n                                        stroke={c(r[dataKey])}\n                                        d={line(r.data)}\n                                        onMouseEnter={() => {\n                                            setLineTipY(y(getHeight(r.data)))\n                                            setLineTipVisible(true)\n                                            setLineTipText(r[dataKey])\n                                        }}\n                                        onMouseLeave={() => {\n                                            setLineTipVisible(false)\n                                        }}\n                                        onClick={() => {\n                                            if (!selected.includes(r[dataKey])) {\n                                                setSelected([...selected, r[dataKey]])\n                                            } else {\n                                                setSelected(selected.filter(x => x !== r[dataKey]))\n                                            }\n\n                                        }}\n                                        strokeOpacity={selected.includes(r[dataKey]) || selected.length < 1 ? 1 : 0.2}\n                                    />\n                                    <g>\n                                        {Children.toArray(\n                                            r.data.map(d => (\n                                                <circle\n                                                    className={classes.circle}\n                                                    r={1.5}\n                                                    cx={x(d.Month)}\n                                                    cy={y(d.Loans)}\n                                                    fill={c(r[dataKey])}\n                                                    onMouseEnter={e => {\n                                                        e.currentTarget.setAttribute('r', 3)\n                                                        setCircleTipPos([x(d.Month), y(d.Loans)])\n                                                        setCircleTipVisible(true)\n                                                        setCircleTipText({\n                                                            [dataKey]: r[dataKey],\n                                                            month: d.Month,\n                                                            loans: d.Loans\n                                                        })\n                                                    }}\n                                                    onMouseLeave={e => {\n                                                        e.currentTarget.setAttribute('r', 1.5)\n                                                        setCircleTipVisible(false)\n                                                    }}\n                                                />\n                                            )\n                                            ))}\n                                    </g>\n                                </>)\n                            )\n                        )}\n                        <g className={classes.legend} transform={`translate(${width}, 0)`}>\n                            {Children.toArray(selected.map((t, i) =>\n                                <text className={classes.legendText} y={15 * (i)} fill={c(t)}>{t}</text>\n                            ))}\n                        </g>\n                    </g>\n                    <XAxis height={height} width={width} tickArray={x.ticks()} tickFunction={t => DateTime.fromJSDate(t).toFormat('MMM yy')} scale={x} />\n                    <YAxis height={height} width={width} tickArray={y.ticks()} scale={y} />\n                    <text transform=\"rotate(-90)\" x={height/-2} y={-margin.left} dy={'1rem'} style={{textAnchor: 'middle'}}>Loans + renewals</text>\n                </g>\n            </svg>\n            <ChartTip margin={margin} top={lineTipY - 25} left={width / 2} visible={lineTipVisible}>\n                <Typography variant='caption'>\n                    {lineTipText}\n                </Typography>\n            </ChartTip>\n            <ChartTip margin={margin} left={circleTipPos[0]} top={circleTipPos[1] - 45} visible={circleTipVisible}>\n                <Typography variant='caption'>\n                    {`${circleTipText[dataKey]}`}<br />\n                    {`${DateTime.fromJSDate(circleTipText.month).toFormat('MMM y')}`}<br />\n                    {`Loans: ${circleTipText.loans}`}\n                </Typography>\n            </ChartTip>\n        </>\n    )\n}\n\n\nexport default Loans","import { csvParse } from 'd3'\nimport { DateTime } from 'luxon'\n\nconst getCsv = async url => await fetch(url).then(s => s.text()).then(s => csvParse(s))\nconst getDatasets = async () => await getCsv(`${process.env.PUBLIC_URL}/datasets.csv`)\nconst insertAt = (str, sub, pos) => `${str.slice(0, pos)}${sub}${str.slice(pos)}`;\n\nconst toApiUrl = (url) => {\n    const root = 'https://open.barnet.gov.uk/'\n    return insertAt(url, 'api/', root.length)\n}\n\nconst corsUrl = 'https://cors-anywhere.herokuapp.com/'\nconst headers = {\n    Origin: process.env.PUBLIC_URL\n}\nconst opts = { headers }\nconst fetchCors = async url => await fetch(corsUrl + url, opts)\n\nasync function getResourceUri(url) {\n    try {\n        const res = await fetchCors(toApiUrl(url))\n        const d = await res.json()\n        const resources = d.resources\n        const keys = []\n        const dates = []\n        for (const k of Object.keys(resources)) {\n            const dset = resources[k]\n            const dt = DateTime.fromISO(dset['qa']['timestamp'].slice(0, 'yyyy-mm-dd'.length))\n            dates.push(dt)\n            keys.push(k)\n        }\n        const key = keys[dates.indexOf(DateTime.max(...dates))]\n        const resourceUri = resources[key]['url']\n        return resourceUri\n    } catch (e) {\n        console.log(e)\n        return undefined\n    }\n}\n\nasync function getDataProd() {\n    const datasets = await getDatasets()\n    const data = []\n    for (const ds of datasets) {\n        const { url } = ds\n        const resourceUri = await getResourceUri(url)\n        try {\n            const csvRes = await fetchCors(resourceUri)\n            const csv = await csvRes.text().then(s => csvParse(s))\n            ds.data = csv\n            data.push(ds)\n        } catch (e) {\n            console.log(e)\n            data.push(undefined)\n            continue\n        }\n    }\n    return data\n}\n\nasync function getDataDev() {\n    const datasets = await getDatasets()\n    const data = []\n    for (const ds of datasets) {\n        const { title } = ds\n        const csv = await getCsv(`${process.env.PUBLIC_URL}/data/${title}.csv`)\n        ds.data = csv\n        data.push(ds)\n    }\n    return data\n}\n\nasync function getData(isDev) {\n    return isDev ? await getDataDev() : await getDataProd()\n}\n\nexport default getData","import { useEffect, useState, Children } from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Header from \"./components/header\"\nimport SideNav from './components/sideNav'\nimport ContentWrapper from './components/contentWrapper'\nimport ChartWrapper from './components/chartWrapper'\nimport Loans from './components/loans'\nimport getData from './functions/getData'\nimport { getDataByTitle, makeId } from './functions/helper'\nimport {groupDataByItemType, groupDataByLibrary} from './functions/loansHelp'\n\nconst isDev = process.env.NODE_ENV === 'development'\n// const isDev = false\n\nconst Side = ({ children }) => <Grid item md={2} sm={false} xs={false}>{children}</Grid>\nconst Main = ({ children }) => <Grid item md={10} sm={12} xs={12}>{children}</Grid>\n\nfunction App() {\n  const [data, setData] = useState([])\n  useEffect(() => {\n    const fetchData = async () => {\n      const d = await getData(isDev)\n      setData(d)\n    };\n\n    fetchData();\n  }, []);\n  \n  const charts = [\n    {\n      title: 'Loans by item type',\n      component: (props) => <Loans {...props} data={groupDataByItemType(getDataByTitle(data, 'Library loans'))} />\n    },\n    {\n      title: 'Loans by library',\n      component: (props) => <Loans {...props} data={groupDataByLibrary(getDataByTitle(data, 'Library loans'))} />\n    }\n  ]\n  return (\n    <Grid container>\n      <Side><SideNav titles={charts.map(o => o.title)} /></Side>\n      <Main>\n        <Header siteTitle='Barnet Libraries' subTitle='Open data' />\n        <ContentWrapper>\n          {\n            Children.toArray(\n              charts.map(({ title, component }, i) => (\n                <section id={makeId(title)}>\n                  <ChartWrapper>\n                    {data.length > 0 ? component({ title }) : null}\n                  </ChartWrapper>\n                </section>\n              )\n              )\n            )\n          }\n        </ContentWrapper>\n      </Main>\n    </Grid>\n  )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\n// A custom theme for this app\nconst theme = createMuiTheme({});\n\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport theme from './theme';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>\n  ,\n  document.querySelector('#root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}